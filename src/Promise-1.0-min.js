var Promise;(function(){if(!Promise){"use strict";if(!document.getElementsByClassName){var a=Object.defineProperty?Object.defineProperty:function(){};Object.defineProperty=function(e,c,d){if(Object.prototype.isPrototypeOf(e)){e[c]=d.value}else{a(e,c,d)}}}Promise=function(h){var i=this;if(typeof h!="function"){throw new TypeError(h+" is not a function")}if(!Promise.prototype.isPrototypeOf(this)||this["<state>"]){throw new TypeError("calling a builtin Promise constructor without new is forbidden")}var c=Object.create?Object.create(null):{};c.isDone=false;c.isFulfilled=false;c.isRejected=false;var f=function(e){if(c.isDone){return}else{Object.defineProperty(i,"<state>",{value:"fulfilled",writable:false,configurable:false,enumerable:false});Object.defineProperty(i,"<value>",{value:e,writable:false,configurable:false,enumerable:false});c.value=e;c.isDone=true;c.isFulfilled=true}};var d=function(e){if(c.isDone){return}else{Object.defineProperty(i,"<state>",{value:"rejected",writable:false,configurable:false,enumerable:false});Object.defineProperty(i,"<reason>",{value:e,writable:false,configurable:false,enumerable:false});c.reason=e;c.isDone=true;c.isRejected=true}};try{h(f,d)}catch(g){if(!c.isRejected){console.error(g);d(g)}}finally{if(!c.isDone){Object.defineProperty(i,"<state>",{value:"pending",writable:false,configurable:true,enumerable:false})}}this.then=function(e,j){return new Promise(function(m,l){var k=setInterval(function(){if(c.isDone){clearInterval(k);if(c.isFulfilled){m(e(c.value))}if(c.isRejected){l(j(c.reason))}}},1)})};this["catch"]=function(e){return new Promise(function(l,k){var j=setInterval(function(){if(c.isDone){clearInterval(j);if(c.isFulfilled){l(resolved(c.value))}if(c.isRejected){k(e(c.reason))}}},1)})}};Promise.resolve=function(c){if(typeof c=="object"){if(typeof c.then=="function"){return new Promise(c.then)}}return new Promise(function(e,d){e(c)})};Promise.reject=function(c){return new Promise(function(e,d){d(c)})};Promise.all=function(d){var f=[];var c=[];if(d instanceof Array){for(var e=d.length-1;e>=0;e--){if(d instanceof Promise){f.push(d[e])}else{f.push(Promise.resolve(d[e]))}}}else{return new Promise(function(h,g){g(new TypeError("Argument of Promise.all is not a array"))})}return new Promise(function(j,h){for(var g=f.length-1;g>=0;g--){f[g].then(function(i){c.push(i);if(c.length===f.length){j(c)}},function(i){h(i)})}})};Promise.race=function(c){var e=[];if(c instanceof Array){for(var d=c.length-1;d>=0;d--){if(c instanceof Promise){e.push(c[d])}else{e.push(Promise.resolve(c[d]))}}}else{return new Promise(function(g,f){f(new TypeError("Argument of Promise.all is not a array"))})}return new Promise(function(h,g){for(var f=e.length-1;f>=0;f--){e[f].then(function(i){h(i)},function(i){g(i)})}})};var b;if(b&&require&&requirejs){b(function(){return Promise})}}})();